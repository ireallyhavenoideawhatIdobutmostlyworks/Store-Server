name: Tests

jobs:
  run_unit_tests:
    runs-on: ubuntu-latest
    steps:
      - name: Run unit test
        run: mvn clean test -Dgroups="Unit_Test"
      - name: Publish Test Report
        uses: mikepenz/action-junit-report@v2
        if: always()
        with:
          report_paths: '**/target/surefire-reports/TEST-*.xml'

  run_integration_tests:
    runs-on: ubuntu-latest
    steps:
      - name: Run integration test
        run: mvn clean test -Dgroups="Integration_Test"
      - name: Publish Test Report
        uses: mikepenz/action-junit-report@v2
        if: always()
        with:
          report_paths: '**/target/surefire-reports/TEST-*.xml'

